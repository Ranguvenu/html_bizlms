{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.

    ddd

}}
{{#response}}
    {{#viewtypeCard}}
        <table class="generaltable dataTable no-footer" id="skill_repository" role="grid" aria-describedby="skill_repository">
            <thead>
                <tr role="row">
                    <th class="header text-left" tabindex="0">{{# str}} fieldname, local_custom_fields{{/ str}}</th>
                    <th class="header text-left" tabindex="0">{{# str}} shortname, local_custom_fields{{/ str}}</th>
                    <!-- <th class="header text-center" tabindex="0">{{# str}} parent, local_custom_fields{{/ str}}</th> -->
                    <th class="header text-left" tabindex="0">{{# str}} open_costcenterid, local_costcenter{{/ str}}</th>
                    {{^ parentcatid}}
                    <th class="header text-left" tabindex="0">{{# str}} fieldvalue, local_custom_fields{{/ str}}</th>
                    {{/ parentcatid}}

                    <th class="header text-center" tabindex="0">{{# str}} action, local_custom_fields{{/ str}}</th>
                </tr>
            </thead>
            <tbody>
                {{#records}}
                    <tr>
                        {{^ childs}}
                        <td class="text-left" ><a href="{{wwwroot}}?parentcatid={{custom_field_id}}">{{custom_field_name}}</a></td>
                        {{/ childs}}
                        {{# childs}}
                        <td class="text-left" >{{custom_field_name}}</td>
                        {{/ childs}}
                        <td class="text-left">{{shortname}}</td>
                        <!-- <td class="text-center">{{parent}}</td> -->
                        <td class="text-left">{{organisationname}}</td>
                        {{^ childs}}
                        <td class="text-left">{{childcount}}</td>
                        {{/ childs}}
                        <td class="text-center">
                            <a href="javascript:void(0)" data-action="createrepositorymodal" class="iconsmall" data-value="{{custom_field_id}}" onclick="(function(e){ require('local_custom_fields/newcustomcategory').init({selector:'createrepositorymodal', contextid:1, repositoryid:{{custom_field_id}}, parentcatid:{{childs}}}) })(event)" style="cursor:pointer" title="Edit">
                                <i class="fa fa-pencil fa-fw" title="{{# str }} edit_title, local_custom_fields {{/ str }}"></i>
                            </a>
                            {{^ categoryexist}}
                            <a href="javascript:void(0)" title="{{# str}}delete{{/ str}}" onclick="(function(e){ require('local_custom_fields/newcustomcategory').deleteskill({selector: 'deletecustomcategory', skillid:{{custom_field_id}}, name: '{{custom_field_name}}' ,contextid:1}) })(event)">
                                <i class="fa fa-trash fa-fw" aria-hidden="true" title="{{# str }} delete_title, local_custom_fields {{/ str }}" aria-label="Delete"></i>
                            </a>
                            {{/ categoryexist}}
                            {{# categoryexist}}
                            <a href="javascript:void(0)" title="{{# str}}delete{{/ str}}" onclick="(function(e){ require('local_custom_fields/newcustomcategory').nodelete({selector: 'deletecustomcategory', name: '{{custom_field_name}}',skillid:{{custom_field_id}}, contextid:1, parentcatid:{{childs}}}) })(event)">
                                <i class="fa fa-trash fa-fw" aria-hidden="true" title="{{# str }} delete_title, local_custom_fields {{/ str }}" aria-label="Delete"></i>
                            </a>
                            {{/ categoryexist}}

                        </td>
                    </tr>
                {{/records}}
            </tbody>
        </table>
    {{/viewtypeCard}}
{{/response}}
