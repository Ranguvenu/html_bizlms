{"version":3,"file":"datatablesamd.min.js","sources":["../src/datatablesamd.js"],"sourcesContent":["/**\r\n * Add a create new group modal to the page.\r\n *\r\n * @module     core_group/AjaxForms\r\n * @class      AjaxForms\r\n * @package    core_group\r\n * @copyright  2017 Damyon Wiese <damyon@moodle.com>\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\ndefine([\r\n    'core/str',\r\n    'core/modal_factory',\r\n    'core/modal_events',\r\n    'core/ajax',\r\n    'core/templates',\r\n    'jquery',\r\n    'jqueryui'\r\n], function(Str, ModalFactory, ModalEvents, Ajax, Templates, $) {\r\n    var users;\r\n    return users = {\r\n        init: function(args) {\r\n            \r\n        },\r\n        deletesyncStatistics: function(args){\r\n            var id = [];\r\n          // var value = $('input[type=checkbox]').prop('checked');\r\n            $(\":checkbox:checked\").each(function(i){\r\n                id[i] = parseInt($(this).val());\r\n            });\r\n            if(id.length > 0){\r\n                return Str.get_strings([{\r\n                    key: 'confirm'\r\n                },\r\n                {\r\n                    key: 'deleteconfirmsynch',\r\n                    component: 'local_users',\r\n                    param :args\r\n                },\r\n                {\r\n                    key: 'deleteconfirmsynch',\r\n                    component: 'local_users'\r\n                },\r\n                {\r\n                    key: 'delete'\r\n                }]).then(function(s) {\r\n                    ModalFactory.create({\r\n                        title: s[0],\r\n                        type: ModalFactory.types.SAVE_CANCEL,\r\n                        body: s[1]\r\n                    }).done(function(modal) {\r\n                        this.modal = modal;\r\n                        modal.setSaveButtonText(s[3]);\r\n                        modal.getRoot().on(ModalEvents.save, function(e) {\r\n                            e.preventDefault();\r\n                            args.confirm = true;\r\n                            var params = {};\r\n                            params.contextid = args.contextid;\r\n                            params.ids = JSON.stringify(id);\r\n                            var promise = Ajax.call([{\r\n                                methodname: 'local_users_'+args.action,\r\n                                args: params\r\n                            }]);\r\n                            promise[0].done(function(resp) {\r\n                                window.location.href = window.location.href;\r\n                            }).fail(function(ex) {\r\n                                 console.log(ex);\r\n                            });\r\n                        }.bind(this));\r\n                        modal.show();\r\n                    }.bind(this));\r\n                }.bind(this));\r\n            }else{\r\n            }\r\n            Str.get_string('selectonecheckbox_msg', 'local_users').then(function(s) {\r\n                alert(s);\r\n            });\r\n\r\n        },\r\n        load: function(){\r\n\r\n        }\r\n    };\r\n});"],"names":["define","Str","ModalFactory","ModalEvents","Ajax","Templates","$","init","args","deletesyncStatistics","id","each","i","parseInt","this","val","length","get_strings","key","component","param","then","s","create","title","type","types","SAVE_CANCEL","body","done","modal","setSaveButtonText","getRoot","on","save","e","preventDefault","confirm","params","contextid","ids","JSON","stringify","call","methodname","action","resp","window","location","href","fail","ex","console","log","bind","show","get_string","alert","load"],"mappings":";;;;;;;;;AASAA,mCAAO,CACH,WACA,qBACA,oBACA,YACA,iBACA,SACA,aACD,SAASC,IAAKC,aAAcC,YAAaC,KAAMC,UAAWC,SAE1C,CACXC,KAAM,SAASC,QAGfC,qBAAsB,SAASD,UACvBE,GAAK,MAETJ,EAAE,qBAAqBK,MAAK,SAASC,GACjCF,GAAGE,GAAKC,SAASP,EAAEQ,MAAMC,UAE1BL,GAAGM,OAAS,SACJf,IAAIgB,YAAY,CAAC,CACpBC,IAAK,WAET,CACIA,IAAK,qBACLC,UAAW,cACXC,MAAOZ,MAEX,CACIU,IAAK,qBACLC,UAAW,eAEf,CACID,IAAK,YACLG,KAAK,SAASC,GACdpB,aAAaqB,OAAO,CAChBC,MAAOF,EAAE,GACTG,KAAMvB,aAAawB,MAAMC,YACzBC,KAAMN,EAAE,KACTO,KAAK,SAASC,YACRA,MAAQA,MACbA,MAAMC,kBAAkBT,EAAE,IAC1BQ,MAAME,UAAUC,GAAG9B,YAAY+B,KAAM,SAASC,GAC1CA,EAAEC,iBACF5B,KAAK6B,SAAU,MACXC,OAAS,GACbA,OAAOC,UAAY/B,KAAK+B,UACxBD,OAAOE,IAAMC,KAAKC,UAAUhC,IACdN,KAAKuC,KAAK,CAAC,CACrBC,WAAY,eAAepC,KAAKqC,OAChCrC,KAAM8B,UAEF,GAAGT,MAAK,SAASiB,MACrBC,OAAOC,SAASC,KAAOF,OAAOC,SAASC,QACxCC,MAAK,SAASC,IACZC,QAAQC,IAAIF,QAEnBG,KAAKxC,OACPgB,MAAMyB,QACRD,KAAKxC,QACTwC,KAAKxC,OAGXb,IAAIuD,WAAW,wBAAyB,eAAenC,MAAK,SAASC,GACjEmC,MAAMnC,OAIdoC,KAAM"}